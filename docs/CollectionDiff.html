<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><HTML><HEAD>	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">	<TITLE></TITLE>	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.1.1  (Win32)">	<META NAME="AUTHOR" CONTENT="Nathan Goodman">	<META NAME="CREATED" CONTENT="20041204;8294237">	<META NAME="CHANGEDBY" CONTENT="Nathan Goodman">	<META NAME="CHANGED" CONTENT="20041209;9383868">	<STYLE>	<!--		@page { size: 8.5in 11in }		TD P { margin-bottom: 0.08in; font-size: 10pt; line-height: 0.14in }		H1 { margin-top: 0.22in; margin-bottom: 0.08in }		H1.western { font-family: "Times New Roman", serif; font-size: 10pt }		P { margin-bottom: 0.14in; font-size: 10pt; line-height: 0.14in }		P.code-western { margin-bottom: 0in; font-family: "Courier New", monospace; font-size: 10pt; line-height: 100% }		P.code-cjk { margin-bottom: 0in; font-size: 10pt; line-height: 100% }		P.code-ctl { margin-bottom: 0in; font-size: 10pt; line-height: 100% }		P.row-heading-western { font-size: 10pt; font-weight: bold }		P.row-heading-cjk { font-size: 10pt }		P.row-heading-ctl { font-size: 10pt }		TH P { margin-bottom: 0.08in; font-size: 10pt; line-height: 0.14in }	-->	</STYLE></HEAD><BODY LANG="en-US" DIR="LTR"><H1 CLASS="western">NAME</H1><P STYLE="margin-bottom: 0.2in">Class::AutoDB::Collection - Comparetwo collection definitions and maintain differences</P><H1 CLASS="western">SYNOPSIS</H1><P STYLE="margin-bottom: 0.2in">This is a helper class forClass::AutoDB::Registry to to process differences between in-memoryand saved registries</P><PRE>use Class::AutoDB::CollectionDiff;use Class::AutoDB::Collection;my $diff=new Class::AutoDB::CollectionDiff  (-baseline=&gt;$saved, -change=&gt;$in_memory);if ($diff-&gt;is_sub) {               # is new collection subset of saved one?  $registry=$saved_registry;       # if so, use saved one} elsif  ($diff-&gt;is_different) {   # else get changes  my %new_keys=$diff-&gt;new_keys;    #   my @expanded_collections=$diff-&gt;expanded_collections;} else {  die &ldquo;New collection inconsistent with old&rdquo;;}</PRE><H1 CLASS="western">DESCRIPTION</H1><P STYLE="margin-bottom: 0.2in">This class compares two collectiondefinitions and records their differences.  The first collection isconsidered the baseline, and differences are reported relative to it. This class <I>does not talk to the database</I>.</P><a name="bugs_and_wishlist"></a> <H1 CLASS="western">BUGS and WISH-LIST</H1><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=37*>	<COL WIDTH=130*>	<COL WIDTH=89*>	<THEAD>		<TR VALIGN=TOP>			<TH WIDTH=14%>				<P><FONT SIZE=2>Name</FONT></P>			</TH>			<TH WIDTH=51%>				<P><FONT SIZE=2>Description</FONT></P>			</TH>			<TH WIDTH=35%>				<P><FONT SIZE=2>Priority/When</FONT></P>			</TH>		</TR>	</THEAD>	<TBODY>		<TR>			<TD WIDTH=14%>				<P CLASS="row-heading-western"><BR>				</P>			</TD>			<TD WIDTH=51%>				<P><BR>				</P>			</TD>			<TD WIDTH=35%>				<P><BR>				</P>			</TD>		</TR>	</TBODY></TABLE><a name="methods_and_functions"></a><H1 CLASS="western">METHODS and FUNCTIONS - Initialization</H1><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=61*>	<COL WIDTH=157*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P><FONT FACE="Courier New, monospace">new</FONT></P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE>my $diff=new Class::AutoDB::CollectionDiff  (-baseline=&gt;$saved, -change=&gt;$in_memory);</PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Constructor. 			</P>		</TD>	</TR>	<TR>		<TD ROWSPAN=2 WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=24%>			<P CLASS="code-western">-baseline</P>		</TD>		<TD WIDTH=61%>			<P>Class::AutoDB::Collection object</P>		</TD>	</TR>	<TR>		<TD WIDTH=24%>			<P CLASS="code-western">-other</P>		</TD>		<TD WIDTH=61%>			<P>Class::AutoDB::Collection object</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>CollectionDiff object</P>		</TD>	</TR></TABLE><H1 CLASS="western">METHODS and FUNCTIONS &ndash; Simple Attributes</H1><P>These are methods for getting and setting the values of simpleattributes. Methods have the same name as the attribute. Some ofthese should be read-only (more precisely, should only be written bycode internal to the object), but this is not enforced. </P><P>To get the value of attribute <FONT FACE="Courier New, monospace">xxx</FONT>,just say </P><P STYLE="margin-left: 0.29in"><FONT FACE="Courier New, monospace">$xxx=$object-&gt;xxx;</FONT></P><P>To set an attribute, say</P><P STYLE="margin-left: 0.29in"><FONT FACE="Courier New, monospace">$object-&gt;xxx($new_value);</FONT></P><P>To clear it, say </P><P STYLE="margin-left: 0.31in"><FONT FACE="Courier New, monospace">$object-&gt;xxx(undef);</FONT></P><H1 CLASS="western">METHODS and FUNCTIONS</H1><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=63*>	<COL WIDTH=155*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE><FONT FACE="Courier New, monospace">new_keys</FONT></PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P CLASS="code-western">my $new_keys=$diff-&gt;new_keys;</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Return <FONT FACE="Courier New, monospace">keys=&gt;type</FONT>			pairs for keys present in new collection, but not baseline</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=25%>			<PRE>none</PRE>		</TD>		<TD WIDTH=61% VALIGN=TOP>			<P><BR>			</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<H1 CLASS="western" STYLE="font-weight: medium">HASH ref</H1>		</TD>	</TR></TABLE><P><BR><BR></P><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=63*>	<COL WIDTH=155*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE>inconsistent_keys</PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P CLASS="code-western">my $key_errors=$diff-&gt;inconsistent_keys</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Return keys that are present in both collections with different			types.  For each such key, both the old and new types are reported</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=25%>			<PRE>none</PRE>		</TD>		<TD WIDTH=61% VALIGN=TOP>			<P><BR>			</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>HASH ref of <FONT FACE="Courier New, monospace">key=&gt;[baseline_type,			other_type]</FONT> pairs</P>		</TD>	</TR></TABLE><P><BR><BR></P><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=63*>	<COL WIDTH=155*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE>is_consistent</PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P CLASS="code-western">my $bool=$diff-&gt;is_consistent</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Check if collection are consistent</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=25%>			<PRE>none</PRE>		</TD>		<TD WIDTH=61% VALIGN=TOP>			<P><BR>			</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>true/false value</P>		</TD>	</TR></TABLE><P><BR><BR></P><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=63*>	<COL WIDTH=155*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE>is_inconsistent</PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P CLASS="code-western">my $bool=$diff-&gt;is_inconsistent</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Check if collection are inconsistent</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=25%>			<PRE>none</PRE>		</TD>		<TD WIDTH=61% VALIGN=TOP>			<P><BR>			</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>true/false value</P>		</TD>	</TR></TABLE><P><BR><BR></P><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=63*>	<COL WIDTH=155*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE>is_equivalent</PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P CLASS="code-western">my $bool=$diff-&gt;is_equivalent</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Check if collection are equivalent</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=25%>			<PRE>none</PRE>		</TD>		<TD WIDTH=61% VALIGN=TOP>			<P><BR>			</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>true/false value</P>		</TD>	</TR></TABLE><P><BR><BR></P><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=63*>	<COL WIDTH=155*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE>is_different</PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P CLASS="code-western">my $bool=$diff-&gt;is_different</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Check if collection are different (not equivalent)</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=25%>			<PRE>none</PRE>		</TD>		<TD WIDTH=61% VALIGN=TOP>			<P><BR>			</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>true/false value</P>		</TD>	</TR></TABLE><P><BR><BR></P><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=63*>	<COL WIDTH=155*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE>is_sub</PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P CLASS="code-western">my $bool=$diff-&gt;is_sub</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Check if new collection is subset of baseline.  Note:			equivalent is considered subset</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=25%>			<PRE>none</PRE>		</TD>		<TD WIDTH=61% VALIGN=TOP>			<P><BR>			</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>true/false value</P>		</TD>	</TR></TABLE><P><BR><BR></P><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=63*>	<COL WIDTH=155*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE>is_super</PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P CLASS="code-western">my $bool=$diff-&gt;is_sub</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Check if new collection is superset  of baseline.  Note:			equivalent is considered superset</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=25%>			<PRE>none</PRE>		</TD>		<TD WIDTH=61% VALIGN=TOP>			<P><BR>			</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>true/false value</P>		</TD>	</TR></TABLE><P><BR><BR></P><TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3>	<COL WIDTH=38*>	<COL WIDTH=63*>	<COL WIDTH=155*>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Title</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<PRE>is_expanded</PRE>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Usage</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P CLASS="code-western">my $bool=$diff-&gt;is_expanded</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Function</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>Check if new collection has new keys relative to baseline</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Args</P>		</TD>		<TD WIDTH=25%>			<PRE>none</PRE>		</TD>		<TD WIDTH=61% VALIGN=TOP>			<P><BR>			</P>		</TD>	</TR>	<TR>		<TD WIDTH=15%>			<P CLASS="row-heading-western">Returns</P>		</TD>		<TD COLSPAN=2 WIDTH=85% VALIGN=TOP>			<P>true/false value</P>		</TD>	</TR></TABLE><P STYLE="margin-bottom: 0in; line-height: 100%"><BR></P><H1 CLASS="western" STYLE="margin-top: 0in; margin-bottom: 0in; line-height: 100%"><BR></H1></BODY></HTML>